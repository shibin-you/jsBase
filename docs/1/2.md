# 面向对象编程

-   创建对象的安全模式

在创建对象的时候忘记使用new,下面的代码就会报错

```javascript
var Person = function({name,sex,age}) {
  this.name = name
  this.sex = sex
  this.age = age
}

// 正常
var a=new Person({name:'shibin',sex:'boy',age:'10'})
console.log(a.name)
console.log(a.age)
console.log(a.sex)

// 报错
var b= Person({name:'shibin',sex:'boy',age:'10'})
console.log(b.name)//报错
console.log(b.age)//报错
console.log(b.sex)//报错
```

安全类
```javascript
var Person = function({name,sex,age}) {
  if(this instanceof Person){
    this.name = name
    this.sex = sex
    this.age = age
  }else{
    return new Person({
      name,
      sex,
      age
    })
  }
}
var b= Book({name:'shibin',sex:'boy',age:'10'})
console.log(b.name)
console.log(b.age)
console.log(b.sex)
```
